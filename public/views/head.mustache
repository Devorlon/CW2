<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{{title}}</title>

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

	<!-- Font Awesome CSS -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

	<!-- Local CSS -->
	<link rel="stylesheet" type="text/css" href="/css/styles.css">

	<script>
		function previewFile(id) {
			const preview = document.getElementById(`previewImage${id}`);
			const fileInput = document.getElementById(`picture${id}`).files[0];
			const reader = new FileReader();

			reader.onloadend = function () {
				preview.src = reader.result;
				preview.style.transform = "scale(1)";
			};

			if (fileInput) {
				if (fileInput.type.match('image.*')) {
					reader.readAsDataURL(fileInput);
				} 
				else {
					alert("Please select an image file.");
					document.getElementById(`fileInput${id}`).value = '';
					preview.src = "/images/img.svg";
				}
			} 
			else {
				preview.src = "/images/img.svg";
			}

			preview.classList.replace('addListingImg', 'userListingImg');
		}

		function submitForm(action) {
			console.log("action", action);

			var form = document.getElementById('form-' + action);

			if (form) {
				console.log("form", form)
				form.submit();
			} 
			else {
				console.error("Form with ID '" + 'form-' + action + "' not found.");
			}
		}

		// VERY BAD. NEED TO REFACTOR
		function submit2Forms(action1, action2) {
			console.log("action1", action1);
			console.log("action2", action2);

			var form1 = document.getElementById('form-' + action1);
			var form2 = document.getElementById('form-' + action2);

			if (form1 && form2) {
				console.log("form1", form1)
				console.log("form2", form2)

				form1.submit();
				setTimeout(() => {
					form2.submit();
				}, 1000);
			} 
			else {
				console.error("Form1 with ID '" + 'form-' + action1 + "' not found.");
				console.error("Form2 with ID '" + 'form-' + action2 + "' not found.");
			}
	}
	</script>
</head>

<div class="d-flex flex-column min-vh-100"> {{! Wrapper for bottom footer spacing }}